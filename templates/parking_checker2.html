<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="content">
        
        <h1 class="text-center text-danger">Welcome to Cork City Parking Checker</h1>
        <h4 class="text-center text-danger">Check the availability of parking spaces in Cork City car parks.</h4>

        <!-- Current time display -->
        <div class="text-center mt-3">
            <strong>The current time is:</strong> <span id="currentTime"></span>
        </div>        

        <!-- Car park selection dropdown -->
        <div class="mt-4">
            <label for="carParkDropdown" class="form-label">Select Car Park:</label>
            <select id="carParkDropdown" class="form-select"></select>

            <!-- Dynamic space availability display -->
            <div id="checkFreeSpaces" class="alert mt-3 d-none"></div>
        </div>

        <!-- Free space availability -->
        <div id="checkFreeSpaces" class="alert mt-3 d-none"></div>            

        <!-- Container for side-by-side buttons -->
        <div class="d-flex gap-3 mt-4">
            <!-- Car park opening hours -->
            <div class="flex-fill">
                <button id="toggleOpeningHoursBtn" class="btn btn-info w-100">Show Opening Hours</button>
                <div class="mt-4 alert alert-info d-none" id="openingHoursResult" role="alert">
                    <label class="form-label"><strong>Car Park Opening Hours</strong></label>
                    <span id="openingHoursContent">Dynamic opening hours content will appear here.</span>
                </div>                
            </div>

            <!-- Height restrictions -->
            <div class="flex-fill">
                <button id="toggleHeightRestrictionBtn" class="btn btn-danger w-100">Car Park Height Restriction</button>
                <div class="alert alert-danger mt-3 d-none" id="heightRestrictionNotice">
                    <strong></strong>
                    <span id="heightRestrictionContent">Dynamic height restriction details will appear here.</span>
                </div>
            </div>
        </div>

        <h4>Manage Car Parks</h4>

        <!-- Buttons for managing car parks -->
        <div id="carParkActions" class="button-container">
            <button id="addCarParkButton" class="btn btn-primary" onclick="showForm('addCarParkForm')">Add Car Park</button>
            <button id= "updateCarParkButton" class="btn btn-warning" onclick="showForm('updateCarParkForm')">Update Car Park</button>
            <button id="deleteCarParkButton" class="btn btn-danger" onclick="showForm('deleteCarParkForm')">Delete Car Park</button>
        </div>

        <!-- Car Park Forms (Initially Hidden) -->
        <div id="addCarParkForm" class="d-none">
            <h3>Add Car Park</h3>
            <label for="carParkName"><strong>Car Park Name:</strong></label>
            <input type="text" id="carParkName" placeholder="Enter Car Park Name">
        
            <label for="heightRestriction"><strong>Height Restriction (m):</strong></label>
            <input type="number" id="heightRestriction" step="0.1" placeholder="Example: 2.00">
        
            <table class="opening-hours-table">
                <thead>
                    <tr>
                        <th>Day</th>
                        <th>Opening Time (24-Hour Format)</th>
                        <th>Closing Time (24-Hour Format)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>Monday</td><td><input type="time" id="monday_open"></td><td><input type="time" id="monday_close"></td></tr>
                    <tr><td>Tuesday</td><td><input type="time" id="tuesday_open"></td><td><input type="time" id="tuesday_close"></td></tr>
                    <tr><td>Wednesday</td><td><input type="time" id="wednesday_open"></td><td><input type="time" id="wednesday_close"></td></tr>
                    <tr><td>Thursday</td><td><input type="time" id="thursday_open"></td><td><input type="time" id="thursday_close"></td></tr>
                    <tr><td>Friday</td><td><input type="time" id="friday_open"></td><td><input type="time" id="friday_close"></td></tr>
                    <tr><td>Saturday</td><td><input type="time" id="saturday_open"></td><td><input type="time" id="saturday_close"></td></tr>
                    <tr><td>Sunday</td><td><input type="time" id="sunday_open"></td><td><input type="time" id="sunday_close"></td></tr>
                </tbody>
            </table>
        </div>
            <!-- âœ… Checkbox for 24-hour status -->
            <label for="is24Hours">Open 24 Hours?</label>
            <input type="checkbox" id="is24Hours">
        
            <button onclick="addCarPark()">Add Car Park</button>
        </div>
        <div id="updateCarParkForm" class="d-none">
            <select id="updateCarParkDropdown"></select>
            <input type="text" id="newCarParkName" placeholder="Enter New Name">
            <button onclick="updateCarPark()">Update Car Park</button>
        </div>

        <div id="deleteCarParkForm" class="d-none">
            <select id="deleteCarParkDropdown"></select>
            <button onclick="deleteCarPark()">Delete Car Park</button>
        </div>
    </div>
<script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>

